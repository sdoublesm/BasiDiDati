{"_main":{"step":"erDesign","restructuringHappened":false,"draftSaved":true,"showMenu":false,"showModal":false,"showNotesDataMenu":true,"uid":1},"erDesign":{"model":{"uid":55,"erCode":"/* Entities */\nentity PISCINA {\n    Nome (id),\n    Indirizzo,\n    NTelefono,\n    Responsabile,\n    InizioVascaAperto (optional),\n    FineVascaAperto (optional)\n}\nentity CORSO {\n    NomeCorso (external),\n    Costo,\n    MinPart,\n    MaxPart,\n    Giorni (multi),\n    Orario\n}\nentity INSEGNANTE {\n    CodiceFiscale (id),\n    Nome,\n    NCellulare (optional),\n    Qualifiche (multi)\n}\nentity TEMPO {\n    DataInizio (id)\n}\nentity UTENTE {\n    Nome,\n    CodiceFiscale (id),\n    Indirizzo,\n    NCellulare\n}\nentity ISCRITTO {\n    Medico,\n    DataCertificato,\n    Eta,\n    Corsi (multi)\n}\nentity NON_ISCRITTO\nentity ENTITY39\n\n/* Relationships */\nrelationship ORGANIZZA (\n    PISCINA: one..many,\n    CORSO: one..one external\n)\nrelationship LAVORO (\n    PISCINA: zero..many,\n    INSEGNANTE: zero..many,\n    TEMPO: one..many\n) {\n    DataFine\n}\nrelationship INGRESSO (\n    PISCINA: zero..many,\n    NON_ISCRITTO: one..many\n) {\n    DataUltimoIngresso\n}\nrelationship ISCRIZIONE (\n    CORSO: one..one,\n    ISCRITTO: one..one\n)\n\n/* Generalizations */\nUTENTE <= {\n    NON_ISCRITTO,\n    ISCRITTO\n} (total, exclusive)","sqlCode":"","itemsArray":[{"__type":"Entity","_id":1,"_name":"PISCINA","_x":-798,"_y":-260,"_mag":false},{"__type":"Attribute","_id":2,"_name":"Nome","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-144,"_y":0},{"__type":"Attribute","_id":3,"_name":"Indirizzo","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-142,"_y":-43},{"__type":"Attribute","_id":4,"_name":"NTelefono","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-142,"_y":43},{"__type":"Attribute","_id":5,"_name":"Responsabile","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-116,"_y":-78},{"__type":"Attribute","_id":7,"_name":"InizioVascaAperto","_identifier":false,"_externalIdentifier":false,"_cardinality":"0_1","_parentId":1,"_x":-71,"_y":94},{"__type":"Attribute","_id":8,"_name":"FineVascaAperto","_identifier":false,"_externalIdentifier":false,"_cardinality":"0_1","_parentId":1,"_x":86,"_y":97},{"__type":"Relationship","_id":9,"_name":"ORGANIZZA","_x":-441,"_y":-260},{"__type":"Entity","_id":10,"_name":"CORSO","_x":-30,"_y":-254,"_mag":false},{"__type":"Participation","_id":11,"_entityId":1,"_tableId":null,"_relationshipId":9,"_cardinality":"1_N","_externalIdentifier":false,"_role":""},{"__type":"Participation","_id":12,"_entityId":10,"_tableId":null,"_relationshipId":9,"_cardinality":"1_1","_externalIdentifier":true,"_role":""},{"__type":"Attribute","_id":13,"_name":"NomeCorso","_identifier":false,"_externalIdentifier":true,"_cardinality":"1_1","_parentId":10,"_x":-1,"_y":-93},{"__type":"Attribute","_id":14,"_name":"Costo","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":138,"_y":-6},{"__type":"Attribute","_id":15,"_name":"MinPart","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":-138,"_y":-42},{"__type":"Attribute","_id":16,"_name":"MaxPart","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":-138,"_y":42},{"__type":"Attribute","_id":17,"_name":"Giorni","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_N","_parentId":10,"_x":-3,"_y":94},{"__type":"Attribute","_id":19,"_name":"Orario","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":80,"_y":95},{"__type":"Entity","_id":20,"_name":"INSEGNANTE","_x":-795,"_y":196,"_mag":false},{"__type":"Attribute","_id":21,"_name":"CodiceFiscale","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":20,"_x":-163,"_y":0},{"__type":"Attribute","_id":22,"_name":"Nome","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":20,"_x":-161,"_y":-49},{"__type":"Attribute","_id":23,"_name":"NCellulare","_identifier":false,"_externalIdentifier":false,"_cardinality":"0_1","_parentId":20,"_x":-173,"_y":54},{"__type":"Attribute","_id":24,"_name":"Qualifiche","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_N","_parentId":20,"_x":-1,"_y":88},{"__type":"Relationship","_id":25,"_name":"LAVORO","_x":-781,"_y":-6},{"__type":"Participation","_id":26,"_entityId":1,"_tableId":null,"_relationshipId":25,"_cardinality":"0_N","_externalIdentifier":false,"_role":""},{"__type":"Participation","_id":27,"_entityId":20,"_tableId":null,"_relationshipId":25,"_cardinality":"0_N","_externalIdentifier":false,"_role":""},{"__type":"Entity","_id":28,"_name":"TEMPO","_x":-1092,"_y":-11,"_mag":false},{"__type":"Participation","_id":29,"_entityId":28,"_tableId":null,"_relationshipId":25,"_cardinality":"1_N","_externalIdentifier":false,"_role":""},{"__type":"Attribute","_id":30,"_name":"DataInizio","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":28,"_x":-140,"_y":0},{"__type":"Attribute","_id":31,"_name":"DataFine","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":25,"_x":-75,"_y":-54},{"__type":"Entity","_id":32,"_name":"UTENTE","_x":-88,"_y":417,"_mag":false},{"__type":"Attribute","_id":33,"_name":"Nome","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":-26,"_y":95},{"__type":"Attribute","_id":34,"_name":"CodiceFiscale","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":-114,"_y":96},{"__type":"Attribute","_id":35,"_name":"Indirizzo","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":73,"_y":90},{"__type":"Attribute","_id":36,"_name":"NCellulare","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":-160,"_y":24},{"__type":"Entity","_id":37,"_name":"ISCRITTO","_x":190,"_y":85,"_mag":false},{"__type":"Entity","_id":38,"_name":"NON_ISCRITTO","_x":-322,"_y":119,"_mag":false},{"__type":"Entity","_id":39,"_name":"ENTITY39","_x":-577,"_y":603,"_mag":false},{"__type":"Attribute","_id":40,"_name":"Medico","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":37,"_x":-150,"_y":0},{"__type":"Attribute","_id":41,"_name":"DataCertificato","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":37,"_x":-148,"_y":-45},{"__type":"Attribute","_id":42,"_name":"Eta","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":37,"_x":-148,"_y":45},{"__type":"Attribute","_id":43,"_name":"Corsi","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_N","_parentId":37,"_x":-1,"_y":-97},{"__type":"Generalization","_id":45,"_type":"t_e","_entityId":32},{"__type":"GeneralizationChild","_id":46,"_entityId":38,"_generalizationId":45},{"__type":"GeneralizationChild","_id":47,"_entityId":37,"_generalizationId":45},{"__type":"Relationship","_id":48,"_name":"INGRESSO","_x":-403,"_y":-78},{"__type":"Participation","_id":49,"_entityId":1,"_tableId":null,"_relationshipId":48,"_cardinality":"0_N","_externalIdentifier":false,"_role":""},{"__type":"Participation","_id":50,"_entityId":38,"_tableId":null,"_relationshipId":48,"_cardinality":"1_N","_externalIdentifier":false,"_role":""},{"__type":"Attribute","_id":51,"_name":"DataUltimoIngresso","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":48,"_x":-85,"_y":48},{"__type":"Relationship","_id":52,"_name":"ISCRIZIONE","_x":418,"_y":-106},{"__type":"Participation","_id":53,"_entityId":10,"_tableId":null,"_relationshipId":52,"_cardinality":"1_1","_externalIdentifier":false,"_role":""},{"__type":"Participation","_id":54,"_entityId":37,"_tableId":null,"_relationshipId":52,"_cardinality":"1_1","_externalIdentifier":false,"_role":""}],"itemsMap":{"1":{"__type":"Entity","_id":1,"_name":"PISCINA","_x":-798,"_y":-260,"_mag":false},"2":{"__type":"Attribute","_id":2,"_name":"Nome","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-144,"_y":0},"3":{"__type":"Attribute","_id":3,"_name":"Indirizzo","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-142,"_y":-43},"4":{"__type":"Attribute","_id":4,"_name":"NTelefono","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-142,"_y":43},"5":{"__type":"Attribute","_id":5,"_name":"Responsabile","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":1,"_x":-116,"_y":-78},"7":{"__type":"Attribute","_id":7,"_name":"InizioVascaAperto","_identifier":false,"_externalIdentifier":false,"_cardinality":"0_1","_parentId":1,"_x":-71,"_y":94},"8":{"__type":"Attribute","_id":8,"_name":"FineVascaAperto","_identifier":false,"_externalIdentifier":false,"_cardinality":"0_1","_parentId":1,"_x":86,"_y":97},"9":{"__type":"Relationship","_id":9,"_name":"ORGANIZZA","_x":-441,"_y":-260},"10":{"__type":"Entity","_id":10,"_name":"CORSO","_x":-30,"_y":-254,"_mag":false},"11":{"__type":"Participation","_id":11,"_entityId":1,"_tableId":null,"_relationshipId":9,"_cardinality":"1_N","_externalIdentifier":false,"_role":""},"12":{"__type":"Participation","_id":12,"_entityId":10,"_tableId":null,"_relationshipId":9,"_cardinality":"1_1","_externalIdentifier":true,"_role":""},"13":{"__type":"Attribute","_id":13,"_name":"NomeCorso","_identifier":false,"_externalIdentifier":true,"_cardinality":"1_1","_parentId":10,"_x":-1,"_y":-93},"14":{"__type":"Attribute","_id":14,"_name":"Costo","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":138,"_y":-6},"15":{"__type":"Attribute","_id":15,"_name":"MinPart","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":-138,"_y":-42},"16":{"__type":"Attribute","_id":16,"_name":"MaxPart","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":-138,"_y":42},"17":{"__type":"Attribute","_id":17,"_name":"Giorni","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_N","_parentId":10,"_x":-3,"_y":94},"19":{"__type":"Attribute","_id":19,"_name":"Orario","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":10,"_x":80,"_y":95},"20":{"__type":"Entity","_id":20,"_name":"INSEGNANTE","_x":-795,"_y":196,"_mag":false},"21":{"__type":"Attribute","_id":21,"_name":"CodiceFiscale","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":20,"_x":-163,"_y":0},"22":{"__type":"Attribute","_id":22,"_name":"Nome","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":20,"_x":-161,"_y":-49},"23":{"__type":"Attribute","_id":23,"_name":"NCellulare","_identifier":false,"_externalIdentifier":false,"_cardinality":"0_1","_parentId":20,"_x":-173,"_y":54},"24":{"__type":"Attribute","_id":24,"_name":"Qualifiche","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_N","_parentId":20,"_x":-1,"_y":88},"25":{"__type":"Relationship","_id":25,"_name":"LAVORO","_x":-781,"_y":-6},"26":{"__type":"Participation","_id":26,"_entityId":1,"_tableId":null,"_relationshipId":25,"_cardinality":"0_N","_externalIdentifier":false,"_role":""},"27":{"__type":"Participation","_id":27,"_entityId":20,"_tableId":null,"_relationshipId":25,"_cardinality":"0_N","_externalIdentifier":false,"_role":""},"28":{"__type":"Entity","_id":28,"_name":"TEMPO","_x":-1092,"_y":-11,"_mag":false},"29":{"__type":"Participation","_id":29,"_entityId":28,"_tableId":null,"_relationshipId":25,"_cardinality":"1_N","_externalIdentifier":false,"_role":""},"30":{"__type":"Attribute","_id":30,"_name":"DataInizio","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":28,"_x":-140,"_y":0},"31":{"__type":"Attribute","_id":31,"_name":"DataFine","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":25,"_x":-75,"_y":-54},"32":{"__type":"Entity","_id":32,"_name":"UTENTE","_x":-88,"_y":417,"_mag":false},"33":{"__type":"Attribute","_id":33,"_name":"Nome","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":-26,"_y":95},"34":{"__type":"Attribute","_id":34,"_name":"CodiceFiscale","_identifier":true,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":-114,"_y":96},"35":{"__type":"Attribute","_id":35,"_name":"Indirizzo","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":73,"_y":90},"36":{"__type":"Attribute","_id":36,"_name":"NCellulare","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":32,"_x":-160,"_y":24},"37":{"__type":"Entity","_id":37,"_name":"ISCRITTO","_x":190,"_y":85,"_mag":false},"38":{"__type":"Entity","_id":38,"_name":"NON_ISCRITTO","_x":-322,"_y":119,"_mag":false},"39":{"__type":"Entity","_id":39,"_name":"ENTITY39","_x":-577,"_y":603,"_mag":false},"40":{"__type":"Attribute","_id":40,"_name":"Medico","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":37,"_x":-150,"_y":0},"41":{"__type":"Attribute","_id":41,"_name":"DataCertificato","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":37,"_x":-148,"_y":-45},"42":{"__type":"Attribute","_id":42,"_name":"Eta","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":37,"_x":-148,"_y":45},"43":{"__type":"Attribute","_id":43,"_name":"Corsi","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_N","_parentId":37,"_x":-1,"_y":-97},"45":{"__type":"Generalization","_id":45,"_type":"t_e","_entityId":32},"46":{"__type":"GeneralizationChild","_id":46,"_entityId":38,"_generalizationId":45},"47":{"__type":"GeneralizationChild","_id":47,"_entityId":37,"_generalizationId":45},"48":{"__type":"Relationship","_id":48,"_name":"INGRESSO","_x":-403,"_y":-78},"49":{"__type":"Participation","_id":49,"_entityId":1,"_tableId":null,"_relationshipId":48,"_cardinality":"0_N","_externalIdentifier":false,"_role":""},"50":{"__type":"Participation","_id":50,"_entityId":38,"_tableId":null,"_relationshipId":48,"_cardinality":"1_N","_externalIdentifier":false,"_role":""},"51":{"__type":"Attribute","_id":51,"_name":"DataUltimoIngresso","_identifier":false,"_externalIdentifier":false,"_cardinality":"1_1","_parentId":48,"_x":-85,"_y":48},"52":{"__type":"Relationship","_id":52,"_name":"ISCRIZIONE","_x":418,"_y":-106},"53":{"__type":"Participation","_id":53,"_entityId":10,"_tableId":null,"_relationshipId":52,"_cardinality":"1_1","_externalIdentifier":false,"_role":""},"54":{"__type":"Participation","_id":54,"_entityId":37,"_tableId":null,"_relationshipId":52,"_cardinality":"1_1","_externalIdentifier":false,"_role":""}}},"edited":true,"sceneResetToken":1711453854494,"selectedItemId":null,"selectedTool":null,"oldRenamingValue":"ISCRIZIONE","renamingValue":"ISCRIZIONE","showRenamingInput":false,"showRenamingRoleInput":false,"showCardinalityMenu":false,"showGeneralizationTypeMenu":false,"showExportMenu":false,"showNotes":false},"erRestructuring":{"model":{"uid":1,"erCode":"","sqlCode":"","itemsArray":[],"itemsMap":{}},"sceneResetToken":1711453854494,"selectedItemId":null,"oldRenamingValue":"","renamingValue":"","showRenamingInput":false,"showRenamingRoleInput":false,"showMultivalueAttributeMenu":false,"showCompositeAttributeMenu":false,"showGeneralizationMenu":false,"showExportMenu":false},"erTranslation":{"model":{"uid":1,"erCode":"","sqlCode":"","itemsArray":[],"itemsMap":{}},"sceneResetToken":1711453854494,"selectedItemId":null,"oldRenamingValue":"","renamingValue":"","showRenamingInput":false,"showOneToManyTypeBRelationshipMenu":false,"showOneToOneTypeBRelationshipMenu":false,"showOneToOneTypeCRelationshipMenu":false,"showExportMenu":false},"schemaDesign":{"model":{"uid":1,"erCode":"","sqlCode":"","itemsArray":[],"itemsMap":{}},"sceneResetToken":1711453854494,"selectedItemId":null,"oldRenamingValue":"","renamingValue":"","showRenamingInput":false,"showDataTypeOptions":false,"showReorderingMenu":false,"showExportMenu":false},"editorData":"<p><strong>Esercizio 2 – Gestione piscine comunali</strong></p><p>Si vuole rappresentare una base dati contenente le informazioni relative alle piscine gestite del comune di Torino, tenendo conto delle seguenti informazioni:</p><p>• Le <strong>piscine</strong> sono identificate univocamente attraverso il <strong>nome</strong> (ad esempio Vigone, Comunale, Trecate, ecc). Per ciascuna sono inoltre noti l'indirizzo, un numero di telefono, ed il nome di un responsabile. Nel caso la piscina disponga anche di una vasca all'aperto, la base dati contiene l'informazione di quando tale vasca è utilizzabile (ad esempio da Marzo a Settembre, da Luglio ad Agosto, ecc.)</p><p>• Presso le piscine sono organizzati dei <strong>corsi</strong>; lo stesso tipo di corso può essere svolto presso piscine diverse, eventualmente con modalità differenti. Ciascun corso è pertanto identificato dal nome dell'attività svolta, quali Aerobica, Acquagym, Corso di Sincronizzato o corso per Gestanti, e dal nome della Piscina presso cui tale corso si svolge. Per ciascun corso, svolto presso una certa piscina, è noto il costo, il numero massimo e minimo di partecipanti, in quali giorni della settimana si svolge ed a che ora. Si ipotizzi che presso ciascuna piscina ogni corso sia svolto una sola volta al giorno, ma più volte durante la settimana.</p><p>• Il corpo insegnante lavora a rotazione presso le varie piscine. Per ciascun insegnante è noto il codice fiscale, che lo identifica, un nome, il numero di cellulare, se disponibile, e l'elenco delle qualifiche dell'insegnante (ad esempio istruttore di sub, istruttore di aerobica, ecc). All'interno della base dati si vuole tener traccia di tutti gli intervalli di tempo in cui un insegnante ha lavorato presso ciascuna piscina. Non si escluda che lo stesso insegnante possa aver lavorato presso una stessa piscina in intervalli di tempo diversi.</p><p>• Le piscine possono essere frequentate o da persone che sono iscritte ai corsi, o secondo la modalità ad “ingresso singolo” per svolgere nuoto libero (si noti che sono registrate per l'ingresso singolo solo le persone che non hanno mai frequentato corsi). Tutte le persone che accedono alle piscine comunali sono identificate attraverso il loro codice fiscale ed inoltre sono noti il nome, un indirizzo ed un numero di telefono.</p><p>• Le persone che sono iscritte ai corsi devono presentare un certificato medico. Pertanto, nel caso la persona sia iscritta ad un corso, il database contiene l'informazione del medico che ha redatto il certificato, la data in cui la persona ha presentato il certificato, l'età della persona, e l'elenco dei corsi a cui è iscritta. Per le persone che hanno fatto solo ingressi sono noti solo la data in cui è stato effettuato l'ultimo ingresso e presso quale piscina. </p><p>a) Descrivere con un diagramma ER lo schema concettuale di una base di dati per tale applicazione. b) Costruire uno schema logico relazionale normalizzato per la stessa base di dati.</p>"}